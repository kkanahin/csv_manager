{% block extrascript %}

<script type="text/javascript">
$(function () {
    var chart;
    $(document).ready(function() {
        chart = new Highcharts.Chart({
            chart: {
                renderTo: 'tab2',
                type: 'line',
                marginRight: 130,
                marginBottom:25
            },
            title: {
                text: '{{ table_caption }}',
                x: -20 //center
            },
            subtitle: {
                text: 'Source: csv-manager.com',
                x: -20
            },
            xAxis: {
                categories: [
                {% for raw in table_raws %}
				           {% for cell in raw %}
				            {% if forloop.first %}  
				              {{ cell }},
				             {% endif %}
				           {% endfor %}
				       {% endfor %}
                ]
            },
            yAxis: {
                title: {
                    text: 'Function value'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                formatter: function() {
                        return '<b>'+ this.series.name +'</b><br/>'+
                        this.x +': '+ this.y +'Â°C';
                }
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'top',
                x: -10,
                y: 100,
                borderWidth: 1
            },
            series: [
            {% for raw in table_raws %}
				           {
				             name: '',
				             data:[
				           {% for cell in raw %}
				            {% if forloop.first %}
				            {% else %}  
				              {{ cell }},
				            {% endif %}
				           {% endfor %}
				           ]},
				       {% endfor %}
           ]
        });
    });
    
});
		</script>
{% endblock %}
<div class="tabbable"> 
	<ul class="nav nav-tabs">
		<li class="active"><a href="#tab1" data-toggle="tab">Table</a></li>
		<li><a href="#tab2" data-toggle="tab">Chart</a></li>
	</ul>
	<div class="tab-content">
	    <div class="tab-pane active" id="tab1">
				<table class=" table table-striped table-bordered table-text">
				     <caption>
				       <b>
				       File: {{ table_caption }}
				       </b>
				     </caption>
				     <thead >
				        <tr>
				       {% for head_column in headers_list %}
				              <th>{{ head_column }}</th>
				       {% endfor %}
				        <tr>
				     </thead>
				     <tbody>
				       {% for raw in table_raws %}
				           <tr>
				           {% for cell in raw %}
				              <td>{{ cell }}</td>
				           {% endfor %}
				           </tr> 
				       {% endfor %}
				     </tbody>
				</table>
			</div>
			<div class="tab-pane" id="tab2" style="min-width: 800px; height: 600px; margin: 0 auto">
			</div>
   </div>
</div>
